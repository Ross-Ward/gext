# Gext

Gext is a TypeScript application for automating Git operations with AI-powered commit messages. It supports multiple AI providers including free local models and cloud services.

## Features

- ü§ñ **Multiple AI Providers**: OpenAI, Ollama, Groq, Google Gemini
- üÜì **Free Options**: Ollama (local), Groq (free tier), Gemini (free tier)
- üè† **Privacy**: Keep your code local with Ollama
- ‚ö° **Fast**: Quick cloud inference with Groq
- üîß **Configurable**: Easy configuration via JSON or environment variables

## Quick Start

### 1. Install Dependencies
```bash
cd gext
npm install
```

### 2. Build the Project
```bash
npm run build
```

### 3. Choose Your AI Provider

#### Option A: Ollama (Recommended - Free & Local)
1. Install Ollama: https://ollama.ai
2. Pull a model: `ollama pull llama3.1`
3. Use default config (already set to Ollama)

#### Option B: Groq (Free Tier - Fast)
1. Get free API key: https://console.groq.com
2. Set environment variable: `export GEXT_AI_API_KEY=your-groq-key`
3. Update config: `"provider": "groq", "model": "llama3-8b-8192"`

#### Option C: Google Gemini (Free Tier)
1. Get API key: https://makersuite.google.com/app/apikey
2. Set environment variable: `export GEXT_AI_API_KEY=your-gemini-key`
3. Update config: `"provider": "gemini", "model": "gemini-1.5-flash"`

### 4. Run Gext
```bash
# Just run gext - it does everything automatically!
npm start
# or
node dist/index.js
# or if installed globally
gext
```

## Configuration

Create `gext.config.json` in your project root:

```json
{
  "ai": {
    "provider": "ollama",
    "model": "llama3.1",
    "baseUrl": "http://localhost:11434",
    "apiKey": "optional-for-cloud-providers",
    "promptPath": "diff-prompt.txt"
  },
  "git": {
    "maxRecursiveDirectories": 10,
    "commitSignature": "\n\n ** Generated by Gext **"
  }
}
```

## Environment Variables

- `GEXT_AI_PROVIDER` - AI provider (ollama, groq, gemini, openai)
- `GEXT_AI_MODEL` - Model name
- `GEXT_AI_API_KEY` - API key for cloud providers
- `GEXT_AI_BASE_URL` - Base URL for local providers

## Commands

```bash
# Full automated workflow (add ‚Üí diff ‚Üí AI commit ‚Üí push)
gext

# Create default config file
gext init

# List available providers
gext providers
```

## Workflow

Just type `gext` and it automatically:

1. **Adds all changes** (`git add .`)
2. **Gets the diff** (`git diff --staged`)
3. **Generates AI commit message**
4. **Commits with AI message** (`git commit -m "..."`)
5. **Pushes to remote** (`git push`)

That's it! One command does everything.

## AI Provider Comparison

| Provider | Cost | Speed | Privacy | Setup |
|----------|------|-------|---------|-------|
| Ollama | Free | Medium | High (Local) | Medium |
| Groq | Free Tier | Fast | Medium | Easy |
| Gemini | Free Tier | Medium | Medium | Easy |
| OpenAI | Paid | Fast | Medium | Easy |

## Troubleshooting

### Ollama Connection Issues
- Make sure Ollama is running: `ollama serve`
- Check if model is installed: `ollama list`
- Verify base URL in config

### No Changes to Commit
- Gext automatically runs `git add .` for you
- If no changes found, check `git status`

### API Key Issues
- Verify environment variables are set
- Check API key validity with provider
- Ensure correct provider is configured

## Development

```bash
# Install dependencies
npm install

# Run in development mode
npm run dev

# Build
npm run build

# Clean build files
npm run clean
```